import DrawPalette, { pathSvg } from '@/pages/Tools/Draws/DrawPalette';
import React, {useEffect, useState} from 'react';
import {NavTabs} from "@/components/Tabs/nav_tabs";
import {FormattedMessage} from "@@/exports";

const baseMinxColor = [
  '#00000000',
  '#033fff',
  '#f3ff00',
  '#d10707',
  '#b112d8',
  '#206606',

  '#ebf076',
  '#4dd800',
  '#ff8806',
  '#f18886',
  '#60a8f1',

  '#3d3d3d',
  '#f5f3db',
  '#777',
];


const SimpleMinxDraw = () => {
  const minxPoints = [
    'M1985 2690 L3488 1595 L3488 2541 L2894 2968 Z',
    'M2894 2968 L3488 2541 L4991 3673 L3488 4749 Z',

    'M6494 1595 L7997 2690 L7088 2968 L6512 2541 Z',
    'M6512 2541 L7088 2968 L6494 4749 L4991 3673 Z',

    'M8015 5844 L7793 6531 L5919 6512 L6494 4749 Z',
    'M8925 5547 L8349 7310 L7793 6531 L8015 5844 Z',

    'M5919 9073 L4063 9073 L4638 8312 L5362 8312 Z',
    'M5362 8312 L4638 8312 L4063 6512 L5919 6512 Z',

    'M1632 7310 L1057 5547 L1966 5844 L2189 6531 Z',
    'M2189 6531 L1966 5844 L3488 4749 L4063 6512 Z',

    'M4991 1446 L6512 2541 L4991 3673 L3488 2541 Z',
    'M3488 1595 L4991 500 L4991 1446 L3488 2541 Z',
    'M4991 500 L6494 1595 L6512 2541 L4991 1446 Z',

    'M1391 4063 L2894 2968 L3488 4749 L1966 5844 Z',
    'M1057 5547 L500 3785 L1391 4063 L1966 5844 Z',
    'M500 3785 L1985 2690 L2894 2968 L1391 4063 Z',

    'M8591 4063 L8015 5844 L6494 4749 L7088 2968 Z',
    'M7997 2690 L9500 3785 L8591 4063 L7088 2968 Z',
    'M9500 3785 L8925 5547 L8015 5844 L8591 4063 Z',

    'M2764 8312 L2189 6531 L4063 6512 L4638 8312 Z',
    'M4063 9073 L2207 9073 L2764 8312 L4638 8312 Z',
    'M2207 9073 L1632 7310 L2189 6531 L2764 8312 Z',

    'M7218 8312 L5362 8312 L5919 6512 L7793 6531 Z',
    'M8349 7310 L7774 9073 L7218 8312 L7793 6531 Z',
    'M7774 9073 L5919 9073 L5362 8312 L7218 8312 Z',

    'M5919 6512 L4063 6512 L3488 4749 L4991 3673 L6494 4749 Z',
  ];


  const [minxPointsM, setMinxPointsM] = useState<pathSvg[]>([]);

  useEffect(() => {
    const v = []
    for (let i = 0; i < minxPoints.length; i++){
      v.push({
        key: 'minx' + i,
        d: minxPoints[i]
      });
    }
    setMinxPointsM(v)
  }, []);

  return (
    <div>
      <DrawPalette
        svgPoints={minxPointsM}
        presetColors={baseMinxColor}
        storageKey={'SimpleMinxDraw'}
        viewBox={"0 0 10000 10000"}
        strokeWidthNum={25}
      />
    </div>
  );
}

const MinxHasCenterDraw = () => {
  const minxPoints = [
    {
      "d": "m281.75,561.84c30.5-9.56,61.16-19.15,92.07-28.85-5.82-8.04-11.7-16.14-17.55-24.2-5.87-8.08-11.86-16.25-17.75-24.42-19.26-.08-38.43-.13-57.58-.21-19.11-.04-38.23-.1-57.35-.19-5.69,8.06-11.34,16.14-16.98,24.15-5.58,7.95-11.23,15.96-16.76,23.87,30.64,9.97,61.33,19.89,91.9,29.84Z",
      "transform": ""
    },
    {
      "d": "m125.58,483.66c32.58.14,65.26.2,98,.31,10.29-14.62,20.65-29.35,31.12-44.17-33.18-.06-66.28-.1-99.19-.15-10.07,14.79-20.01,29.44-29.92,44.01Z",
      "transform": ""
    },
    {
      "d": "m338.51,484.36c-10.74-14.78-21.51-29.62-32.45-44.5-17.15-.01-34.29-.05-51.37-.06-10.47,14.82-20.83,29.54-31.12,44.17,19.12.09,38.24.14,57.35.19,19.15.07,38.33.13,57.58.21Z",
      "transform": ""
    },
    {
      "d": "m442.69,484.72c-10.45-14.87-20.96-29.76-31.65-44.73-35.08-.05-70.07-.1-104.97-.13,10.94,14.88,21.71,29.72,32.45,44.5,34.63.13,69.4.2,104.18.36Z",
      "transform": ""
    },
    {
      "d": "m6.32,364.67c18.39,25,36.7,49.86,54.91,74.7,5.48-7.84,10.92-15.79,16.47-23.68,5.51-7.89,11.03-15.89,16.61-23.87-5.72-17.44-11.42-34.99-17.17-52.56-5.78-17.67-11.58-35.43-17.41-53.25-9.18-2.78-18.35-5.62-27.52-8.39-9.12-2.81-18.31-5.59-27.45-8.42.51,32.09,1.06,63.91,1.56,95.48Z",
      "transform": ""
    },
    {
      "d": "m29.3,192.97c10.24,31.23,20.38,62.24,30.43,93.03,16.54,5.08,33.04,10.13,49.6,15.18-9.91-30.77-19.9-61.74-29.96-92.99-16.67-5.02-33.33-10.11-50.06-15.22Z",
      "transform": ""
    },
    {
      "d": "m94.3,391.81c10.05-14.36,20.13-28.84,30.23-43.38-5.06-15.72-10.14-31.45-15.21-47.25-16.56-5.05-33.06-10.11-49.6-15.18,5.83,17.82,11.63,35.58,17.41,53.25,5.75,17.57,11.45,35.12,17.17,52.56Z",
      "transform": ""
    },
    {
      "d": "m124.76,484.93c9.99-14,20.04-28.1,30.13-42.28-10.05-31.16-20.19-62.61-30.35-94.22-10.1,14.54-20.18,29.02-30.23,43.38,10.23,31.3,20.38,62.35,30.45,93.12Z",
      "transform": ""
    },
    {
      "d": "m112.12,35.52c-18.9,25.66-37.8,51.32-56.79,77.02,9.2,2.87,18.48,5.72,27.69,8.63,9.21,2.91,18.57,5.74,27.83,8.66,15.26-11.08,30.5-22.18,45.78-33.33,15.25-11.09,30.59-22.24,45.91-33.46.09-9.7.15-19.46.23-29.17.08-9.67.14-19.42.26-29.14-30.39,10.3-60.67,20.53-90.92,30.78Z",
      "transform": ""
    },
    {
      "d": "m281.85,5.31c-26.49,19.3-52.91,38.57-79.3,57.73-.18,17.64-.29,35.22-.46,52.83,26.43-19.2,52.94-38.48,79.49-57.78.04-17.59.16-35.23.26-52.78Z",
      "transform": ""
    },
    {
      "d": "m110.86,129.83c16.74,5.26,33.51,10.51,50.38,15.72,13.61-9.86,27.25-19.78,40.85-29.68.17-17.61.27-35.19.46-52.83-15.33,11.22-30.66,22.37-45.91,33.46-15.28,11.15-30.52,22.25-45.78,33.33Z",
      "transform": ""
    },
    {
      "d": "m28.84,189.58c16.59,5.34,33.24,10.61,49.95,15.92,27.44-19.93,54.95-39.96,82.45-59.96-16.87-5.21-33.64-10.46-50.38-15.72-27.38,19.98-54.75,39.89-82.02,59.76Z",
      "transform": ""
    },
    {
      "d": "m455.59,35.76c-30.52-10.09-61.05-20.16-91.57-30.3.04,9.83.13,19.7.19,29.5.04,9.8.13,19.7.21,29.52,15.28,11.1,30.57,22.25,45.86,33.36,15.29,11.11,30.62,22.25,45.97,33.4,9.36-2.96,18.75-5.95,28.12-8.9,9.35-2.97,18.78-5.92,28.2-8.88-19.03-25.9-38.01-51.8-56.98-77.7Z",
      "transform": ""
    },
    {
      "d": "m535.27,188.69c-26.36-19.15-52.69-38.28-79.02-57.45-16.96,5.3-33.85,10.65-50.75,15.96,26.36,19.15,52.7,38.29,79.05,57.43,16.9-5.27,33.78-10.62,50.72-15.94Z",
      "transform": ""
    },
    {
      "d": "m364.42,64.49c.1,17.69.22,35.4.37,53.13,13.58,9.86,27.15,19.73,40.72,29.58,16.89-5.31,33.79-10.66,50.75-15.96-15.34-11.15-30.67-22.28-45.97-33.4-15.29-11.11-30.58-22.25-45.86-33.36Z",
      "transform": ""
    },
    {
      "d": "m281.9,4.5c.08,17.72.2,35.42.36,53.16,27.46,19.95,54.99,39.95,82.52,59.96-.15-17.73-.27-35.43-.37-53.13-27.52-20-55.05-39.99-82.52-59.99Z",
      "transform": ""
    },
    {
      "points": "372.54 242.02 281.95 176.2 191.36 242.05 225.92 348.52 337.91 348.53 372.54 242.02"
    },
    {
      "points": "440.18 483.63 409.22 440.69 439.12 348.65 470.07 391.62 440.18 483.63"
    },
    {
      "points": "504.81 284.7 560.65 266.31 560.41 361.88 504.44 439.28 470.07 391.62 504.81 284.7"
    },
    {
      "points": "470.07 391.62 439.12 348.65 454.52 301.25 504.81 284.7 470.07 391.62"
    },
    {
      "points": "454.52 301.25 485.74 205.13 536.02 188.57 504.81 284.7 454.52 301.25"
    },
    {
      "points": "225.95 348.54 255.73 440.22 308.14 440.2 337.9 348.53 225.95 348.54"
    },
    {
      "points": "308.14 440.2 409.01 440.21 438.77 348.54 337.9 348.53 308.14 440.2"
    },
    {
      "points": "255.73 440.22 225.95 348.54 125.15 348.54 154.96 440.21 255.73 440.22"
    },
    {
      "points": "191.37 242.07 109.8 301.31 125.15 348.54 225.95 348.54 191.37 242.07"
    },
    {
      "points": "337.9 348.53 438.77 348.54 454.11 301.31 372.53 242.05 337.9 348.53"
    },
    {
      "points": "281.95 176.23 200.53 117.08 160.27 146.35 191.37 242.07 281.95 176.23"
    },
    {
      "points": "160.27 146.35 78.72 205.59 109.8 301.31 191.37 242.07 160.27 146.35"
    },
    {
      "points": "454.11 301.31 485.21 205.63 403.61 146.34 372.53 242.05 454.11 301.31"
    },
    {
      "points": "363.35 117.09 281.95 57.95 200.53 117.08 281.95 176.23 363.35 117.09"
    },
    {
      "points": "372.53 242.05 403.61 146.34 363.35 117.09 281.95 176.23 372.53 242.05"
    }
  ]

  const [minxPointsM, setMinxPointsM] = useState<pathSvg[]>([]);

  useEffect(() => {
    const v = [];
    for (let i = 0; i < minxPoints.length; i++) {

      if (minxPoints[i].points){
        v.push({
          key: 'MinxHasCenterDraw' + i,
          points: minxPoints[i].points
        })
        continue
      }
      v.push({
        key: 'simple_sk' + i,
        d: minxPoints[i].d,
        transformStr: minxPoints[i].transform,
      });
    }
    setMinxPointsM(v);
  }, []);

  return (
    <div>
      <DrawPalette
        svgPoints={minxPointsM}
        presetColors={baseMinxColor}
        storageKey={'minx_center_Draw'}
        viewBox={'0 0 565.4 566.6'}
        strokeWidthNum={2}
      />
    </div>
  );
}


const MinxDraw: React.FC = () => {
 const items = [
   {
     key: 'minx',
     label: <FormattedMessage id="draws.top_view" />,
     children: SimpleMinxDraw(),
   },
   {
     key: 'minx_center',
     label: <FormattedMessage id="draws.expanded_view" />,
     children: MinxHasCenterDraw(),
   },
   // {
   //   key: 'minx_3d',
   //   label: '立体图',
   //   children: MinxHasCenterDraw(),
   // }
 ]
  return (
    <>
      <NavTabs
        type="line"
        items={items}
        tabsKey="minx_draw_tabs"
        indicator={{ size: (origin: number) => origin - 20, align: 'center' }}
      />
    </>
  );
};

export default MinxDraw;
